<!-- 1 Enrichment 2 Reactors -->

<simulation>
  <schematype>flat</schematype>
  <control>
    <duration>1000</duration>
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
  </control>

  <archetypes>
    <spec><lib>cycamore</lib><name>Source</name></spec>
    <spec><lib>cycamore</lib><name>Sink</name></spec>
    <spec> <lib>cycamore</lib> <name>EnrichmentFacility</name> </spec>
    <spec> <lib>cycamore</lib> <name>Reactor</name> </spec>
    <spec> <lib>cycamore</lib> <name>FuelFab</name> </spec>
    <spec> <lib>cycamore</lib> <name>Separations</name> </spec>
  </archetypes>

  <prototype>
    <name>enrichment</name>
    <config>
      <EnrichmentFacility>
        <in_commod>natl_u</in_commod>
        <in_recipe>natl_u</in_recipe>
        <out_commod>uox</out_commod>
        <tails_assay>0.003</tails_assay>
        <swu_capacity>1e9</swu_capacity>
        <initial_reserves>1e100</initial_reserves>
      </EnrichmentFacility>
    </config>
  </prototype>

  <prototype>
    <name>separations</name>
    <config>
      <Separations>
          <streams>
              <commod>sep_stream</commod>
              <info>
                  <buf_size>1e100</buf_size>
                  <efficiencies>
                      <comp>U</comp> <eff>0</eff>
                      <comp>Pu</comp> <eff>.98</eff>
                  </efficiencies>
              </info>
          </streams>

          <leftover_commod>waste</leftover_commod>
          <throughput>60000</throughput>
          <feedbuf_size>1e100</feedbuf_size>
          <feed_commods> <val>spent_uox</val> </feed_commods>
          <feed_commod_prefs> <val>2.0</val> </feed_commod_prefs>
      </Separations>
    </config>
  </prototype>

  <prototype>
    <name>fuelfab</name>
    <config>
      <FuelFab>
        <fill_commod>depleted_u</fill_commod>
        <fill_recipe>depleted_u</fill_recipe>
        <fill_size>110000</fill_size>

        <fiss_commods><val>sep_stream</val></fiss_commods>
        <fiss_size>11000</fiss_size>

        <spectrum>thermal</spectrum>
        <outcommod>mox</outcommod>
        <throughput>22000</throughput>
      </FuelFab>
    </config>
  </prototype>

  <prototype>
    <name>reactor</name>
    <config>
      <Reactor>
        <fuel_inrecipes>  <val>fresh_uox</val>  <val>fresh_mox</val></fuel_inrecipes>
        <fuel_outrecipes> <val>spent_uox</val>  <val>spent_mox</val></fuel_outrecipes>
        <fuel_incommods>  <val>uox</val>        <val>mox</val></fuel_incommods>
        <fuel_outcommods> <val>spent_uox</val>  <val>waste</val></fuel_outcommods>
        <fuel_prefs>      <val>1.0</val>        <val>2.0</val></fuel_prefs>

        <cycle_time>9</cycle_time>
        <refuel_time>1</refuel_time>
        <assem_size>11000</assem_size>
        <n_assem_core>7</n_assem_core>
        <n_assem_batch>2</n_assem_batch>
      </Reactor>
    </config>
  </prototype>

  <prototype>
    <name>repo</name>
    <config>
      <Sink>
        <in_commods><val>waste</val></in_commods>
        <capacity>1e10</capacity>
      </Sink>
    </config>
  </prototype>

  <prototype>
    <name>depleted_src</name>
    <config>
      <Source>
        <out_commod>depleted_u</out_commod>
        <recipe_name>depleted_u</recipe_name>
        <capacity>1e10</capacity>
      </Source>
    </config>
  </prototype>

  <agent>
    <name>repo1</name>
    <prototype>repo</prototype>
  </agent>

  <agent>
    <name>r1</name>
    <prototype>reactor</prototype>
  </agent>

  <agent>
    <name>depleted1</name>
    <prototype>depleted_src</prototype>
  </agent>

  <agent>
    <name>fab1</name>
    <prototype>fuelfab</prototype>
  </agent>

  <agent>
    <name>sep1</name>
    <prototype>separations</prototype>
  </agent>

  <agent>
    <name>enrich1</name>
    <prototype>enrichment</prototype>
  </agent>

  <recipe>
    <name>fresh_uox</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id><comp>0.04</comp></nuclide>
    <nuclide><id>922380000</id><comp>0.96</comp></nuclide>
  </recipe>

  <recipe>
    <name>depleted_u</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id><comp>0.003</comp></nuclide>
    <nuclide><id>922380000</id><comp>0.997</comp></nuclide>
  </recipe>

  <recipe>
    <name>fresh_mox</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id><comp>0.0027381</comp></nuclide>
    <nuclide> <id>922380000</id><comp>0.9099619</comp></nuclide>
    <nuclide> <id>942380000</id> <comp>0.001746</comp> </nuclide>
    <nuclide> <id>942390000</id> <comp>0.045396</comp> </nuclide>
    <nuclide> <id>942400000</id> <comp>0.020952</comp> </nuclide>
    <nuclide> <id>942410000</id> <comp>0.013095</comp> </nuclide>
    <nuclide> <id>942420000</id> <comp>0.005238</comp> </nuclide>
  </recipe>

  <recipe>
    <name>spent_mox</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id><comp>0.0017381</comp></nuclide>
    <nuclide> <id>922380000</id><comp>0.90</comp></nuclide>
    <nuclide> <id>942380000</id> <comp>0.001746</comp> </nuclide>
    <nuclide> <id>942390000</id> <comp>0.0134</comp> </nuclide>
    <nuclide> <id>942400000</id> <comp>0.020952</comp> </nuclide>
    <nuclide> <id>942410000</id> <comp>0.013095</comp> </nuclide>
    <nuclide> <id>942420000</id> <comp>0.005238</comp> </nuclide>
  </recipe>

  <recipe>
    <name>spent_uox</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id> <comp>156.729</comp> </nuclide>
    <nuclide> <id>922360000</id> <comp>102.103</comp> </nuclide>
    <nuclide> <id>922380000</id> <comp>18280.324</comp> </nuclide>
    <nuclide> <id>932370000</id> <comp>13.656</comp> </nuclide>
    <nuclide> <id>942380000</id> <comp>5.043</comp> </nuclide>
    <nuclide> <id>942390000</id> <comp>106.343</comp> </nuclide>
    <nuclide> <id>942400000</id> <comp>41.357</comp> </nuclide>
    <nuclide> <id>942410000</id> <comp>36.477</comp> </nuclide>
    <nuclide> <id>942420000</id> <comp>15.387</comp> </nuclide>
    <nuclide> <id>952410000</id> <comp>1.234</comp> </nuclide>
    <nuclide> <id>952430000</id> <comp>3.607</comp> </nuclide>
    <nuclide> <id>962440000</id> <comp>0.431</comp> </nuclide>
    <nuclide> <id>962450000</id> <comp>1.263</comp> </nuclide>
  </recipe> 

  <recipe>
    <name>natl_u</name>
    <basis>mass</basis>
    <nuclide> <id>922350000</id> <comp>0.711</comp> </nuclide>
    <nuclide> <id>922380000</id> <comp>99.289</comp> </nuclide>
  </recipe>


</simulation>
